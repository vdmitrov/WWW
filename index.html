<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Магазин автозапчастей</title>
<style>
  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background-color: #f5f5f5;
    color: #000;
    transition: background-color 0.3s, color 0.3s;
  }

  body.dark {
    background-color: #121212;
    color: #ddd;
  }

  header {
    background-color: #20232a;
    color: white;
    padding: 15px 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1001;
  }

  body.dark header {
    background-color: #121212;
    color: #ddd;
  }

  h1 {
    margin: 0;
    font-size: 18px;
    flex-grow: 1;
	justify-content: center;
  	display: flex;
  }

  #themeToggle, #langSelect {
    background: transparent;
    border: 2px solid white;
    color: white;
    padding: 8px 14px;
    font-size: 14px;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s, color 0.3s;
    flex-shrink: 0;
    margin-right: 8px;
  }

  #themeToggle:hover, #langSelect:hover {
    background-color: white;
    color: #20232a;
  }

  body.dark #themeToggle, body.dark #langSelect {
    border-color: #ddd;
    color: #ddd;
  }

  body.dark #themeToggle:hover, body.dark #langSelect:hover {
    background-color: #ddd;
    color: #121212;
  }

  .category-nav {
    background-color: #282c34;
    padding: 10px 0;
    text-align: center;
    position: sticky;
    top: 60px; /* под шапкой */
    z-index: 1000;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }

  body.dark .category-nav {
    background-color: #1b1b1b;
    box-shadow: 0 2px 5px rgba(255,255,255,0.1);
  }

  .category-nav a {
    color: white;
    margin: 0 12px;
    text-decoration: none;
    font-weight: 600;
    font-size: 15px;
    transition: color 0.3s;
  }

  .category-nav a:hover {
    color: #28a745;
  }

  body.dark .category-nav a {
    color: #ddd;
  }

  body.dark .category-nav a:hover {
    color: #28a745;
  }

  .container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    padding: 10px 12px 30px;
  }

  .card {
    background-color: white;
    border-radius: 6px;
    box-shadow: 0 1px 5px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: transform 0.2s, background-color 0.3s;
    display: flex;
    flex-direction: column;
  }

  body.dark .card {
    background-color: #222;
    box-shadow: 0 1px 6px rgba(0,0,0,0.6);
  }

  .card:hover {
    transform: translateY(-3px);
  }

  .card img {
    width: 100%;
    height: 140px;
    object-fit: contain;
    background-color: #fff;
    display: block;
    aspect-ratio: 1 / 1;
    transition: background-color 0.3s;
  }

  body.dark .card img {
    background-color: #333;
  }

  .card-content {
    padding: 10px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .card-title {
    font-size: 14px;
    margin: 0 0 6px;
  }

  .card-price {
    color: green;
    font-weight: 700;
    font-size: 14px;
  }

  body.dark .card-price {
    color: #7fdb7f;
  }

  .card-availability {
    font-size: 12px;
    margin-top: 5px;
    font-weight: 600;
  }
  .available {
    color: #28a745;
  }
  .not-available {
    color: #dc3545;
  }

  .category-title {
    font-size: 20px;
    margin: 18px 12px 8px;
    font-weight: 700;
  }

  body.dark .category-title {
    color: #ddd;
  }

  /* Кнопка телефона */
  .phone-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    font-size: 26px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: background-color 0.3s;
    z-index: 1010;
  }

  body.dark .phone-button {
    background-color: #3caf50;
    box-shadow: 0 4px 6px rgba(0,0,0,0.7);
  }

  /* Попап контактов */
  .popup {
    display: none;
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 280px;
    max-width: 90vw;
    background-color: white;
    border-radius: 16px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    padding: 15px;
    z-index: 1009;
    color: #000;
    transition: background-color 0.3s, color 0.3s;
  }

  body.dark .popup {
    background-color: #222;
    color: #ddd;
    box-shadow: 0 4px 10px rgba(0,0,0,0.8);
  }

  .popup img {
    width: 100%;
    border-radius: 6px;
    margin-bottom: 10px;
  }

  .popup h3 {
    margin: 0 0 10px;
    font-size: 18px;
  }

  .popup p {
    margin: 5px 0;
    font-size: 14px;
  }

  /* Адаптив для мобильных */
  @media (max-width: 480px) {
    header {
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      padding: 10px 8px;
    }
    h1 {
      flex-basis: 100%;
      text-align: center;
      font-size: 20px;
    }
    #themeToggle, #langSelect {
      flex-basis: 48%;
      font-size: 16px;
      padding: 10px 0;
    }
    .category-nav {
      top: 105px; /* смещение под заголовком на мобилке */
      padding: 8px 0;
    }
    .category-nav a {
      margin: 0 8px;
      font-size: 14px;
    }
    .container {
      grid-template-columns: 1fr;
      gap: 12px;
      padding: 10px;
    }
    .card img {
      height: 180px;
    }
    .phone-button {
      width: 64px;
      height: 64px;
      font-size: 28px;
      bottom: 15px;
      right: 15px;
    }
    .popup {
      bottom: 90px;
      right: 10px;
      width: 90vw;
      max-width: none;
      padding: 12px;
    }
  }
</style>
</head>
<body>
<header>
  <h1 id="title">Магазин автозапчастей</h1>
  <button id="themeToggle" aria-label="Переключить тему">Тёмная тема</button>
  <select id="langSelect" aria-label="Выбор языка">
    <option value="ru">Русский</option>
    <option value="uk">Українська</option>
    <option value="en">English</option>
  </select>
</header>

<nav class="category-nav">
  <a href="#brakes" id="navBrakes">Тормозная система</a>
  <a href="#filters" id="navFilters">Фильтры</a>
</nav>

<div id="brakes" class="category-title">Тормозная система</div>
<div class="container">
  <!-- Карточки тормозной системы -->
  <div class="card">
    <img src="https://gclnk.com/5eP0Ha28" alt="Тормозные колодки" />
    <div class="card-content">
      <div class="card-title" data-key="brakePad">Колодки тормозные передние Bosch</div>
      <div class="card-price">850 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/XGE26nxx" alt="Тормозной диск" />
    <div class="card-content">
      <div class="card-title" data-key="brakeDisc">Диск тормозной передний Brembo</div>
      <div class="card-price">1 250 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/tRXmBlTu" alt="Суппорт" />
    <div class="card-content">
      <div class="card-title" data-key="brakeCaliper">Суппорт тормозной TRW</div>
      <div class="card-price">1 890 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/5gbM5wWb" alt="Тормозной шланг" />
    <div class="card-content">
      <div class="card-title" data-key="brakeHose">Тормозной шланг ATE</div>
      <div class="card-price">320 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
</div>

<div id="filters" class="category-title">Фильтры</div>
<div class="container">
  <!-- Карточки фильтров -->
  <div class="card">
    <img src="https://gclnk.com/BfAzjtuz" alt="Масляный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="oilFilter">Фильтр масляный Mann</div>
      <div class="card-price">190 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/waaENIu7" alt="Воздушный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="airFilter">Фильтр воздушный Filtron</div>
      <div class="card-price">220 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/J8U6V74E" alt="Салонный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="cabinFilter">Фильтр салона Bosch</div>
      <div class="card-price">260 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/zmu2saGf" alt="Топливный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="fuelFilter">Фильтр топливный Knecht</div>
      <div class="card-price">300 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
</div>

<button class="phone-button" id="phoneButton" aria-haspopup="dialog" aria-controls="phonePopup" aria-expanded="false" aria-label="Связаться по телефону">📞</button>

<div class="popup" id="phonePopup" role="dialog" aria-modal="true" aria-hidden="true" tabindex="-1">
  <img src="https://cdn-icons-png.flaticon.com/512/875/875610.png" alt="Менеджер" />
  <h3 id="contactTitle">Связаться с нами</h3>
  <p><strong id="phoneLabel">Телефон:</strong> +38 (099) 123-45-67</p>
  <p id="workHours"><strong>Время работы:</strong><br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Вс: выходной</p>
</div>

<script>
  const translations = {
    ru: {
      title: "Магазин автозапчастей",
      navBrakes: "Тормозная система",
      navFilters: "Фильтры",
      brakesTitle: "Тормозная система",
      filtersTitle: "Фильтры",
      themeDark: "Тёмная тема",
      themeLight: "Светлая тема",
      contactTitle: "Связаться с нами",
      phoneLabel: "Телефон:",
      workHours: "Время работы:<br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Вс: выходной",
      brakePad: "Колодки тормозные передние Bosch",
      brakeDisc: "Диск тормозной передний Brembo",
      brakeCaliper: "Суппорт тормозной TRW",
      brakeHose: "Тормозной шланг ATE",
      oilFilter: "Фильтр масляный Mann",
      airFilter: "Фильтр воздушный Filtron",
      cabinFilter: "Фильтр салона Bosch",
      fuelFilter: "Фильтр топливный Knecht",
      available: "В наличии",
      notAvailable: "Нет в наличии"
    },
    uk: {
      title: "Магазин автозапчастин",
      navBrakes: "Гальмівна система",
      navFilters: "Фільтри",
      brakesTitle: "Гальмівна система",
      filtersTitle: "Фільтри",
      themeDark: "Темна тема",
      themeLight: "Світла тема",
      contactTitle: "Зв’язатися з нами",
      phoneLabel: "Телефон:",
      workHours: "Години роботи:<br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Нд: вихідний",
      brakePad: "Гальмівні колодки передні Bosch",
      brakeDisc: "Гальмівний диск передній Brembo",
      brakeCaliper: "Гальмівний супорт TRW",
      brakeHose: "Гальмівний шланг ATE",
      oilFilter: "Масляний фільтр Mann",
      airFilter: "Повітряний фільтр Filtron",
      cabinFilter: "Фільтр салону Bosch",
      fuelFilter: "Паливний фільтр Knecht",
      available: "В наявності",
      notAvailable: "Немає в наявності"
    },
    en: {
      title: "Auto Parts Store",
      navBrakes: "Brake System",
      navFilters: "Filters",
      brakesTitle: "Brake System",
      filtersTitle: "Filters",
      themeDark: "Dark Theme",
      themeLight: "Light Theme",
      contactTitle: "Contact Us",
      phoneLabel: "Phone:",
      workHours: "Working hours:<br>Mon–Fri: 9:00 – 18:00<br>Sat: 10:00 – 14:00<br>Sun: closed",
      brakePad: "Front Brake Pads Bosch",
      brakeDisc: "Front Brake Disc Brembo",
      brakeCaliper: "Brake Caliper TRW",
      brakeHose: "Brake Hose ATE",
      oilFilter: "Oil Filter Mann",
      airFilter: "Air Filter Filtron",
      cabinFilter: "Cabin Filter Bosch",
      fuelFilter: "Fuel Filter Knecht",
      available: "Available",
      notAvailable: "Not Available"
    }
  };

  const body = document.body;
  const themeToggle = document.getElementById('themeToggle');
  const langSelect = document.getElementById('langSelect');
  const phonePopup = document.getElementById('phonePopup');
  const phoneButton = document.getElementById('phoneButton');

  let currentLang = localStorage.getItem('lang') || 'ru';

  // Устанавливает тему и сохраняет выбор
  function setTheme(darkMode) {
    if (darkMode) {
      body.classList.add('dark');
      themeToggle.textContent = translations[currentLang].themeLight;
      localStorage.setItem('theme', 'dark');
    } else {
      body.classList.remove('dark');
      themeToggle.textContent = translations[currentLang].themeDark;
      localStorage.setItem('theme', 'light');
    }
  }

  // Устанавливает язык и обновляет тексты
  function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);

    document.getElementById('title').textContent = translations[lang].title;
    document.getElementById('navBrakes').textContent = translations[lang].navBrakes;
    document.getElementById('navFilters').textContent = translations[lang].navFilters;

    document.getElementById('brakes').textContent = translations[lang].brakesTitle;
    document.getElementById('filters').textContent = translations[lang].filtersTitle;

    document.getElementById('contactTitle').textContent = translations[lang].contactTitle;
    document.getElementById('phoneLabel').textContent = translations[lang].phoneLabel;
    document.getElementById('workHours').innerHTML = translations[lang].workHours;

    // Обновляем названия карточек
    document.querySelectorAll('.card-title').forEach(el => {
      const key = el.getAttribute('data-key');
      if (key && translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });

    // Обновляем доступность товаров с переключением классов
    document.querySelectorAll('.card-availability').forEach(el => {
      const key = el.getAttribute('data-key-availability');
      if (key && translations[lang][key]) {
        el.textContent = translations[lang][key];
        if (key === 'notAvailable') {
          el.classList.add('not-available');
          el.classList.remove('available');
        } else {
          el.classList.add('available');
          el.classList.remove('not-available');
        }
      }
    });

    // Обновляем текст кнопки темы в зависимости от текущей темы
    if (body.classList.contains('dark')) {
      themeToggle.textContent = translations[lang].themeLight;
    } else {
      themeToggle.textContent = translations[lang].themeDark;
    }
  }

  // Открывает/закрывает попап и управляет aria-атрибутами и фокусом
  function togglePopup() {
    const isOpen = phonePopup.style.display === 'block';

    if (isOpen) {
      phonePopup.style.display = 'none';
      phonePopup.setAttribute('aria-hidden', 'true');
      phonePopup.tabIndex = -1;
      phoneButton.setAttribute('aria-expanded', 'false');
      phoneButton.focus();
    } else {
      phonePopup.style.display = 'block';
      phonePopup.setAttribute('aria-hidden', 'false');
      phonePopup.tabIndex = 0;
      phonePopup.focus();
      phoneButton.setAttribute('aria-expanded', 'true');
    }
  }

  window.addEventListener('DOMContentLoaded', () => {
    // Восстановление темы из localStorage
    const savedTheme = localStorage.getItem('theme');
    setTheme(savedTheme === 'dark');

    // Восстановление языка из localStorage
    langSelect.value = currentLang;
    setLanguage(currentLang);

    // Обработчики плавного скролла по категориям
    document.querySelectorAll('.category-nav a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetElem = document.getElementById(targetId);
        if (targetElem) {
          targetElem.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  });

  themeToggle.addEventListener('click', () => {
    setTheme(!body.classList.contains('dark'));
  });

  langSelect.addEventListener('change', e => {
    setLanguage(e.target.value);
  });

  phoneButton.addEventListener('click', togglePopup);

  // Закрытие попапа по нажатию ESC
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && phonePopup.style.display === 'block') {
      togglePopup();
    }
  });
</script>
</body>
</html>

<style>
  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background-color: #f5f5f5;
    color: #000;
    transition: background-color 0.3s, color 0.3s;
  }

  body.dark {
    background-color: #121212;
    color: #ddd;
  }

  header {
    background-color: #20232a;
    color: white;
    padding: 15px 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1001;
  }

  body.dark header {
    background-color: #121212;
    color: #ddd;
  }

  h1 {
    margin: 0;
    font-size: 18px;
    flex-grow: 1;
  }

  #themeToggle, #langSelect {
    background: transparent;
    border: 2px solid white;
    color: white;
    padding: 8px 14px;
    font-size: 14px;
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s, color 0.3s;
    flex-shrink: 0;
    margin-right: 8px;
  }

  #themeToggle:hover, #langSelect:hover {
    background-color: white;
    color: #20232a;
  }

  body.dark #themeToggle, body.dark #langSelect {
    border-color: #ddd;
    color: #ddd;
  }

  body.dark #themeToggle:hover, body.dark #langSelect:hover {
    background-color: #ddd;
    color: #121212;
  }

  .category-nav {
    background-color: #282c34;
    padding: 10px 0;
    text-align: center;
    position: sticky;
    top: 60px; /* под шапкой */
    z-index: 1000;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }

  body.dark .category-nav {
    background-color: #1b1b1b;
    box-shadow: 0 2px 5px rgba(255,255,255,0.1);
  }

  .category-nav a {
    color: white;
    margin: 0 12px;
    text-decoration: none;
    font-weight: 600;
    font-size: 15px;
    transition: color 0.3s;
  }

  .category-nav a:hover {
    color: #28a745;
  }

  body.dark .category-nav a {
    color: #ddd;
  }

  body.dark .category-nav a:hover {
    color: #28a745;
  }

  .container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    padding: 10px 12px 30px;
  }

  .card {
    background-color: white;
    border-radius: 6px;
    box-shadow: 0 1px 5px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: transform 0.2s, background-color 0.3s;
    display: flex;
    flex-direction: column;
  }

  body.dark .card {
    background-color: #222;
    box-shadow: 0 1px 6px rgba(0,0,0,0.6);
  }

  .card:hover {
    transform: translateY(-3px);
  }

  .card img {
    width: 100%;
    height: 140px;
    object-fit: contain;
    background-color: #fff;
    display: block;
    aspect-ratio: 1 / 1;
    transition: background-color 0.3s;
  }

  body.dark .card img {
    background-color: #333;
  }

  .card-content {
    padding: 10px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .card-title {
    font-size: 14px;
    margin: 0 0 6px;
  }

  .card-price {
    color: green;
    font-weight: 700;
    font-size: 14px;
  }

  body.dark .card-price {
    color: #7fdb7f;
  }

  .card-availability {
    font-size: 12px;
    margin-top: 5px;
    font-weight: 600;
  }
  .available {
    color: #28a745;
  }
  .not-available {
    color: #dc3545;
  }

  .category-title {
    font-size: 20px;
    margin: 18px 12px 8px;
    font-weight: 700;
  }

  body.dark .category-title {
    color: #ddd;
  }

  /* Кнопка телефона */
  .phone-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    font-size: 26px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: background-color 0.3s;
    z-index: 1010;
  }

  body.dark .phone-button {
    background-color: #3caf50;
    box-shadow: 0 4px 6px rgba(0,0,0,0.7);
  }

  /* Попап контактов */
  .popup {
    display: none;
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 280px;
    max-width: 90vw;
    background-color: white;
    border-radius: 16px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    padding: 15px;
    z-index: 1009;
    color: #000;
    transition: background-color 0.3s, color 0.3s;
  }

  body.dark .popup {
    background-color: #222;
    color: #ddd;
    box-shadow: 0 4px 10px rgba(0,0,0,0.8);
  }

  .popup img {
    width: 100%;
    border-radius: 6px;
    margin-bottom: 10px;
  }

  .popup h3 {
    margin: 0 0 10px;
    font-size: 18px;
  }

  .popup p {
    margin: 5px 0;
    font-size: 14px;
  }

  /* Адаптив для мобильных */
  @media (max-width: 480px) {
    header {
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      padding: 10px 8px;
    }
    h1 {
      flex-basis: 100%;
      text-align: center;
      font-size: 20px;
    }
    #themeToggle, #langSelect {
      flex-basis: 48%;
      font-size: 16px;
      padding: 10px 0;
    }
    .category-nav {
      top: 105px; /* смещение под заголовком на мобилке */
      padding: 8px 0;
    }
    .category-nav a {
      margin: 0 8px;
      font-size: 14px;
    }
    .container {
      grid-template-columns: 1fr;
      gap: 12px;
      padding: 10px;
    }
    .card img {
      height: 180px;
    }
    .phone-button {
      width: 64px;
      height: 64px;
      font-size: 28px;
      bottom: 15px;
      right: 15px;
    }
    .popup {
      bottom: 90px;
      right: 10px;
      width: 90vw;
      max-width: none;
      padding: 12px;
    }
  }
</style>
</head>
<body>
<header>
  <h1 id="title">Магазин автозапчастей</h1>
  <button id="themeToggle" aria-label="Переключить тему">Тёмная тема</button>
  <select id="langSelect" aria-label="Выбор языка">
    <option value="ru">Русский</option>
    <option value="uk">Українська</option>
    <option value="en">English</option>
  </select>
</header>

<nav class="category-nav">
  <a href="#brakes" id="navBrakes">Тормозная система</a>
  <a href="#filters" id="navFilters">Фильтры</a>
</nav>

<div id="brakes" class="category-title">Тормозная система</div>
<div class="container">
  <!-- Карточки тормозной системы -->
  <div class="card">
    <img src="https://gclnk.com/5eP0Ha28" alt="Тормозные колодки" />
    <div class="card-content">
      <div class="card-title" data-key="brakePad">Колодки тормозные передние Bosch</div>
      <div class="card-price">850 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/XGE26nxx" alt="Тормозной диск" />
    <div class="card-content">
      <div class="card-title" data-key="brakeDisc">Диск тормозной передний Brembo</div>
      <div class="card-price">1 250 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/tRXmBlTu" alt="Суппорт" />
    <div class="card-content">
      <div class="card-title" data-key="brakeCaliper">Суппорт тормозной TRW</div>
      <div class="card-price">1 890 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/5gbM5wWb" alt="Тормозной шланг" />
    <div class="card-content">
      <div class="card-title" data-key="brakeHose">Тормозной шланг ATE</div>
      <div class="card-price">320 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
</div>

<div id="filters" class="category-title">Фильтры</div>
<div class="container">
  <!-- Карточки фильтров -->
  <div class="card">
    <img src="https://gclnk.com/BfAzjtuz" alt="Масляный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="oilFilter">Фильтр масляный Mann</div>
      <div class="card-price">190 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/waaENIu7" alt="Воздушный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="airFilter">Фильтр воздушный Filtron</div>
      <div class="card-price">220 грн</div>
      <div class="card-availability not-available" data-key-availability="notAvailable">Нет в наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/J8U6V74E" alt="Салонный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="cabinFilter">Фильтр салона Bosch</div>
      <div class="card-price">260 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
  <div class="card">
    <img src="https://gclnk.com/zmu2saGf" alt="Топливный фильтр" />
    <div class="card-content">
      <div class="card-title" data-key="fuelFilter">Фильтр топливный Knecht</div>
      <div class="card-price">300 грн</div>
      <div class="card-availability available" data-key-availability="available">В наличии</div>
    </div>
  </div>
</div>

<button class="phone-button" id="phoneButton" aria-haspopup="dialog" aria-controls="phonePopup" aria-expanded="false" aria-label="Связаться по телефону">📞</button>

<div class="popup" id="phonePopup" role="dialog" aria-modal="true" aria-hidden="true" tabindex="-1">
  <img src="https://cdn-icons-png.flaticon.com/512/875/875610.png" alt="Менеджер" />
  <h3 id="contactTitle">Связаться с нами</h3>
  <p><strong id="phoneLabel">Телефон:</strong> +38 (099) 123-45-67</p>
  <p id="workHours"><strong>Время работы:</strong><br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Вс: выходной</p>
</div>

<script>
  const translations = {
    ru: {
      title: "Магазин автозапчастей",
      navBrakes: "Тормозная система",
      navFilters: "Фильтры",
      brakesTitle: "Тормозная система",
      filtersTitle: "Фильтры",
      themeDark: "Тёмная тема",
      themeLight: "Светлая тема",
      contactTitle: "Связаться с нами",
      phoneLabel: "Телефон:",
      workHours: "Время работы:<br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Вс: выходной",
      brakePad: "Колодки тормозные передние Bosch",
      brakeDisc: "Диск тормозной передний Brembo",
      brakeCaliper: "Суппорт тормозной TRW",
      brakeHose: "Тормозной шланг ATE",
      oilFilter: "Фильтр масляный Mann",
      airFilter: "Фильтр воздушный Filtron",
      cabinFilter: "Фильтр салона Bosch",
      fuelFilter: "Фильтр топливный Knecht",
      available: "В наличии",
      notAvailable: "Нет в наличии"
    },
    uk: {
      title: "Магазин автозапчастин",
      navBrakes: "Гальмівна система",
      navFilters: "Фільтри",
      brakesTitle: "Гальмівна система",
      filtersTitle: "Фільтри",
      themeDark: "Темна тема",
      themeLight: "Світла тема",
      contactTitle: "Зв’язатися з нами",
      phoneLabel: "Телефон:",
      workHours: "Години роботи:<br>Пн–Пт: 9:00 – 18:00<br>Сб: 10:00 – 14:00<br>Нд: вихідний",
      brakePad: "Гальмівні колодки передні Bosch",
      brakeDisc: "Гальмівний диск передній Brembo",
      brakeCaliper: "Гальмівний супорт TRW",
      brakeHose: "Гальмівний шланг ATE",
      oilFilter: "Масляний фільтр Mann",
      airFilter: "Повітряний фільтр Filtron",
      cabinFilter: "Фільтр салону Bosch",
      fuelFilter: "Паливний фільтр Knecht",
      available: "В наявності",
      notAvailable: "Немає в наявності"
    },
    en: {
      title: "Auto Parts Store",
      navBrakes: "Brake System",
      navFilters: "Filters",
      brakesTitle: "Brake System",
      filtersTitle: "Filters",
      themeDark: "Dark Theme",
      themeLight: "Light Theme",
      contactTitle: "Contact Us",
      phoneLabel: "Phone:",
      workHours: "Working hours:<br>Mon–Fri: 9:00 – 18:00<br>Sat: 10:00 – 14:00<br>Sun: closed",
      brakePad: "Front Brake Pads Bosch",
      brakeDisc: "Front Brake Disc Brembo",
      brakeCaliper: "Brake Caliper TRW",
      brakeHose: "Brake Hose ATE",
      oilFilter: "Oil Filter Mann",
      airFilter: "Air Filter Filtron",
      cabinFilter: "Cabin Filter Bosch",
      fuelFilter: "Fuel Filter Knecht",
      available: "Available",
      notAvailable: "Not Available"
    }
  };

  const body = document.body;
  const themeToggle = document.getElementById('themeToggle');
  const langSelect = document.getElementById('langSelect');
  const phonePopup = document.getElementById('phonePopup');
  const phoneButton = document.getElementById('phoneButton');

  let currentLang = localStorage.getItem('lang') || 'ru';

  // Устанавливает тему и сохраняет выбор
  function setTheme(darkMode) {
    if (darkMode) {
      body.classList.add('dark');
      themeToggle.textContent = translations[currentLang].themeLight;
      localStorage.setItem('theme', 'dark');
    } else {
      body.classList.remove('dark');
      themeToggle.textContent = translations[currentLang].themeDark;
      localStorage.setItem('theme', 'light');
    }
  }

  // Устанавливает язык и обновляет тексты
  function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);

    document.getElementById('title').textContent = translations[lang].title;
    document.getElementById('navBrakes').textContent = translations[lang].navBrakes;
    document.getElementById('navFilters').textContent = translations[lang].navFilters;

    document.getElementById('brakes').textContent = translations[lang].brakesTitle;
    document.getElementById('filters').textContent = translations[lang].filtersTitle;

    document.getElementById('contactTitle').textContent = translations[lang].contactTitle;
    document.getElementById('phoneLabel').textContent = translations[lang].phoneLabel;
    document.getElementById('workHours').innerHTML = translations[lang].workHours;

    // Обновляем названия карточек
    document.querySelectorAll('.card-title').forEach(el => {
      const key = el.getAttribute('data-key');
      if (key && translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });

    // Обновляем доступность товаров с переключением классов
    document.querySelectorAll('.card-availability').forEach(el => {
      const key = el.getAttribute('data-key-availability');
      if (key && translations[lang][key]) {
        el.textContent = translations[lang][key];
        if (key === 'notAvailable') {
          el.classList.add('not-available');
          el.classList.remove('available');
        } else {
          el.classList.add('available');
          el.classList.remove('not-available');
        }
      }
    });

    // Обновляем текст кнопки темы в зависимости от текущей темы
    if (body.classList.contains('dark')) {
      themeToggle.textContent = translations[lang].themeLight;
    } else {
      themeToggle.textContent = translations[lang].themeDark;
    }
  }

  // Открывает/закрывает попап и управляет aria-атрибутами и фокусом
  function togglePopup() {
    const isOpen = phonePopup.style.display === 'block';

    if (isOpen) {
      phonePopup.style.display = 'none';
      phonePopup.setAttribute('aria-hidden', 'true');
      phonePopup.tabIndex = -1;
      phoneButton.setAttribute('aria-expanded', 'false');
      phoneButton.focus();
    } else {
      phonePopup.style.display = 'block';
      phonePopup.setAttribute('aria-hidden', 'false');
      phonePopup.tabIndex = 0;
      phonePopup.focus();
      phoneButton.setAttribute('aria-expanded', 'true');
    }
  }

  window.addEventListener('DOMContentLoaded', () => {
    // Восстановление темы из localStorage
    const savedTheme = localStorage.getItem('theme');
    setTheme(savedTheme === 'dark');

    // Восстановление языка из localStorage
    langSelect.value = currentLang;
    setLanguage(currentLang);

    // Обработчики плавного скролла по категориям
    document.querySelectorAll('.category-nav a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetElem = document.getElementById(targetId);
        if (targetElem) {
          targetElem.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  });

  themeToggle.addEventListener('click', () => {
    setTheme(!body.classList.contains('dark'));
  });

  langSelect.addEventListener('change', e => {
    setLanguage(e.target.value);
  });

  phoneButton.addEventListener('click', togglePopup);

  // Закрытие попапа по нажатию ESC
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && phonePopup.style.display === 'block') {
      togglePopup();
    }
  });
</script>
</body>
</html>
