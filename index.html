<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>–ú–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–µ–π</title>
  <style>
   html {
  scroll-behavior: smooth;
  font-size: 16px;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f5f5f5;
  color: #222;
  line-height: 1.4;
  font-size: clamp(0.8rem, 1vw + 0.5rem, 1.1rem);
  min-width: 280px; /* —á—Ç–æ–±—ã –æ—á–µ–Ω—å —É–∑–∫–æ –Ω–µ –ª–æ–º–∞–ª–æ—Å—å */
  max-width: 100vw;
  overflow-x: hidden;
}

/* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */
body.dark {
  background-color: #121212;
  color: #eee;
}

body.dark .card {
  background-color: #1e1e1e;
  border-color: #333;
}

body.dark header,
body.dark nav.category-nav {
  background-color: #1e1e1e;
  color: #eee;
}

/* –•–µ–¥–µ—Ä */
header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1rem;
  background-color: #fff;
  border-bottom: 1px solid #ddd;
  position: sticky;
  top: 0;
  z-index: 100;
  gap: 0.5rem;
}

body.dark header {
  background-color: #1e1e1e;
  border-bottom-color: #333;
}

header h1 {
  margin: 0;
  font-size: clamp(1.2rem, 2vw + 0.5rem, 1.8rem);
  white-space: nowrap;
  flex-shrink: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-grow: 1;
  min-width: 0;
}

header button,
header select {
  font-size: clamp(0.8rem, 1vw + 0.4rem, 1rem);
  padding: 0.3rem 0.6rem;
  cursor: pointer;
  border-radius: 4px;
  border: 1px solid #aaa;
  background-color: #f0f0f0;
  color: #222;
  transition: background-color 0.3s, color 0.3s;
  min-width: 5.5rem;
  max-width: 10rem;
  flex-shrink: 0;
}

body.dark header button,
body.dark header select {
  background-color: #333;
  border-color: #555;
  color: #eee;
}

/* –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
nav.category-nav {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background-color: #fff;
  border-bottom: 1px solid #ddd;
  position: sticky;
  top: calc(3.5rem + 1rem); /* –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—ã—Å–æ—Ç–∞ header + gap */
  z-index: 90;
  justify-content: center;
}

body.dark nav.category-nav {
  background-color: #1e1e1e;
  border-color: #333;
}

nav.category-nav a {
  text-decoration: none;
  color: #007bff;
  font-weight: 600;
  font-size: clamp(1rem, 1.5vw + 0.5rem, 1.2rem);
  white-space: nowrap;
  transition: color 0.3s;
}

nav.category-nav a:hover,
nav.category-nav a:focus {
  text-decoration: underline;
  outline: none;
}

/* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
.category-title {
  font-size: clamp(1.2rem, 2vw + 0.5rem, 1.6rem);
  font-weight: 700;
  padding: 1rem 1rem 0.5rem;
  color: #333;
  text-align: center;
}

body.dark .category-title {
  color: #ddd;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ */
.container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
  padding: 0 1rem 1.5rem;
  max-width: 1200px;
  margin: 0 auto;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
.card {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  /* width —É–±–∏—Ä–∞–µ–º ‚Äî —Ç–µ–ø–µ—Ä—å —à–∏—Ä–∏–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≥—Ä–∏–¥–æ–º */
  display: flex;
  flex-direction: column;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  transition: box-shadow 0.3s;
  cursor: default;
  min-width: 0; /* –≤–∞–∂–Ω–æ –¥–ª—è –≥—Ä–∏–¥ */
}
body.dark .card {
  background-color: #1e1e1e;
  border-color: #333;
  box-shadow: none;
}

.card:hover,
.card:focus-within {
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

.card img {
  width: 100%;
  border-radius: 8px 8px 0 0;
  object-fit: contain;
  aspect-ratio: 4 / 3;
  background-color: #f9f9f9;
}

.card-content {
  padding: 0.6rem 0.8rem;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.card-title {
  font-weight: 600;
  font-size: clamp(0.9rem, 1vw + 0.4rem, 1.1rem);
  margin-bottom: 0.3rem;
  min-height: 3rem;
  color: #222;
}

body.dark .card-title {
  color: #eee;
}

.card-price {
  font-weight: 700;
  font-size: clamp(1rem, 1.5vw + 0.5rem, 1.3rem);
  margin-bottom: 0.3rem;
  color: #007700;
}

.card-availability {
  font-weight: 600;
  font-size: clamp(0.8rem, 1vw + 0.3rem, 1rem);
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  width: fit-content;
  user-select: none;
}

.card-availability.available {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.card-availability.not-available {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

/* –ö–Ω–æ–ø–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ */
.phone-button {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  background-color: #007bff;
  color: white;
  font-size: clamp(1.4rem, 2vw + 1rem, 2rem);
  border: none;
  border-radius: 50%;
  width: clamp(3.2rem, 6vw, 4rem);
  height: clamp(3.2rem, 6vw, 4rem);
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.5);
  cursor: pointer;
  transition: background-color 0.3s;
  z-index: 150;
}

.phone-button:hover,
.phone-button:focus {
  background-color: #0056b3;
  outline: none;
}

/* –ü–æ–ø–∞–ø –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ */
.popup {
  position: fixed;
  bottom: calc(1.5rem + 4.5rem);
  right: 1.5rem;
  background-color: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.25);
  width: clamp(240px, 80vw, 320px);
  padding: 1rem 1.25rem;
  display: none;
  z-index: 200;
  color: #222;
}

body.dark .popup {
  background-color: #1e1e1e;
  color: #eee;
  box-shadow: 0 4px 16px rgba(0,0,0,0.6);
}

.popup img {
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  display: block;
  margin-bottom: 0.5rem;
  object-fit: cover;
}

.popup h3 {
  margin: 0 0 0.5rem 0;
  font-size: clamp(1.1rem, 2vw + 0.5rem, 1.3rem);
}

.popup p {
  margin: 0.25rem 0;
  font-size: clamp(0.85rem, 1vw + 0.3rem, 1rem);
  line-height: 1.3;
}

/* –ú–µ–¥–∏–∞ –¥–ª—è —Å–≤–µ—Ä—Ö–º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (—Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã —É–∑–∫–∏–µ) */
@media (max-width: 320px) {
  header h1 {
    font-size: 1rem;
  }

  nav.category-nav a {
    font-size: 0.9rem;
  }

  .card {
    width: 100%;
  }

  .card-title {
    min-height: auto;
  }

  .phone-button {
    width: 3rem;
    height: 3rem;
    font-size: 1.2rem;
  }

  .popup {
    width: 90vw;
    right: 5vw;
    bottom: 4.5rem;
  }
}

/* –ú–µ–¥–∏–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ (–¥–µ—Å—è—Ç–∫–∏ –¥—é–π–º–æ–≤, –¥–µ—Å–∫—Ç–æ–ø—ã —à–∏—Ä–æ–∫–∏–µ) */
@media (min-width: 1400px) {
  .container {
    max-width: 1300px;
  }
}
  </style>
</head>
<body>
  <header>
    <h1 id="title">–ú–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–µ–π</h1>
    <button id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
    <select id="langSelect" aria-label="–í—ã–±–æ—Ä —è–∑—ã–∫–∞">
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
      <option value="en">English</option>
    </select>
  </header>

  <nav class="category-nav">
    <a href="#brakes" id="navBrakes">–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</a>
    <a href="#filters" id="navFilters">–§–∏–ª—å—Ç—Ä—ã</a>
  </nav>

  <div id="brakes" class="category-title">–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
  <div class="container">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã -->
    <div class="card">
      <img src="https://gclnk.com/5eP0Ha28" alt="–¢–æ—Ä–º–æ–∑–Ω—ã–µ –∫–æ–ª–æ–¥–∫–∏" />
      <div class="card-content">
        <div class="card-title" data-key="brakePad">–ö–æ–ª–æ–¥–∫–∏ —Ç–æ—Ä–º–æ–∑–Ω—ã–µ –ø–µ—Ä–µ–¥–Ω–∏–µ Bosch</div>
        <div class="card-price">850 –≥—Ä–Ω</div>
        <div class="card-availability available" data-key-availability="available">–í –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/XGE26nxx" alt="–¢–æ—Ä–º–æ–∑–Ω–æ–π –¥–∏—Å–∫" />
      <div class="card-content">
        <div class="card-title" data-key="brakeDisc">–î–∏—Å–∫ —Ç–æ—Ä–º–æ–∑–Ω–æ–π –ø–µ—Ä–µ–¥–Ω–∏–π Brembo</div>
        <div class="card-price">1 250 –≥—Ä–Ω</div>
        <div class="card-availability not-available" data-key-availability="notAvailable">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/tRXmBlTu" alt="–°—É–ø–ø–æ—Ä—Ç" />
      <div class="card-content">
        <div class="card-title" data-key="brakeCaliper">–°—É–ø–ø–æ—Ä—Ç —Ç–æ—Ä–º–æ–∑–Ω–æ–π TRW</div>
        <div class="card-price">1 890 –≥—Ä–Ω</div>
        <div class="card-availability available" data-key-availability="available">–í –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/5gbM5wWb" alt="–¢–æ—Ä–º–æ–∑–Ω–æ–π —à–ª–∞–Ω–≥" />
      <div class="card-content">
        <div class="card-title" data-key="brakeHose">–¢–æ—Ä–º–æ–∑–Ω–æ–π —à–ª–∞–Ω–≥ ATE</div>
        <div class="card-price">320 –≥—Ä–Ω</div>
        <div class="card-availability not-available" data-key-availability="notAvailable">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
  </div>

  <div id="filters" class="category-title">–§–∏–ª—å—Ç—Ä—ã</div>
  <div class="container">
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
    <div class="card">
      <img src="https://gclnk.com/BfAzjtuz" alt="–ú–∞—Å–ª—è–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä" />
      <div class="card-content">
        <div class="card-title" data-key="oilFilter">–§–∏–ª—å—Ç—Ä –º–∞—Å–ª—è–Ω—ã–π Mann</div>
        <div class="card-price">190 –≥—Ä–Ω</div>
        <div class="card-availability available" data-key-availability="available">–í –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/waaENIu7" alt="–í–æ–∑–¥—É—à–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä" />
      <div class="card-content">
        <div class="card-title" data-key="airFilter">–§–∏–ª—å—Ç—Ä –≤–æ–∑–¥—É—à–Ω—ã–π Filtron</div>
        <div class="card-price">220 –≥—Ä–Ω</div>
        <div class="card-availability not-available" data-key-availability="notAvailable">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/J8U6V74E" alt="–°–∞–ª–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä" />
      <div class="card-content">
        <div class="card-title" data-key="cabinFilter">–§–∏–ª—å—Ç—Ä —Å–∞–ª–æ–Ω–∞ Bosch</div>
        <div class="card-price">260 –≥—Ä–Ω</div>
        <div class="card-availability available" data-key-availability="available">–í –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
    <div class="card">
      <img src="https://gclnk.com/zmu2saGf" alt="–¢–æ–ø–ª–∏–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä" />
      <div class="card-content">
        <div class="card-title" data-key="fuelFilter">–§–∏–ª—å—Ç—Ä —Ç–æ–ø–ª–∏–≤–Ω—ã–π Knecht</div>
        <div class="card-price">300 –≥—Ä–Ω</div>
        <div class="card-availability available" data-key-availability="available">–í –Ω–∞–ª–∏—á–∏–∏</div>
      </div>
    </div>
  </div>

  <button
    class="phone-button"
    id="phoneButton"
    aria-haspopup="dialog"
    aria-controls="phonePopup"
    aria-expanded="false"
    aria-label="–°–≤—è–∑–∞—Ç—å—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É"
  >
    üìû
  </button>

  <div
    class="popup"
    id="phonePopup"
    role="dialog"
    aria-modal="true"
    aria-hidden="true"
    tabindex="-1"
    style="display:none;"
  >
    <img src="https://cdn-icons-png.flaticon.com/512/875/875610.png" alt="–ú–µ–Ω–µ–¥–∂–µ—Ä" />
    <h3 id="contactTitle">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</h3>
    <p><strong id="phoneLabel">–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +38 (099) 123-45-67</p>
    <p id="workHours">
      <strong>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</strong><br />
      –ü–Ω‚Äì–ü—Ç: 9:00 ‚Äì 18:00<br />
      –°–±: 10:00 ‚Äì 14:00<br />
      –í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π
    </p>
  </div>

  <script>
    const translations = {
      ru: {
        title: "–ú–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–µ–π",
        navBrakes: "–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
        navFilters: "–§–∏–ª—å—Ç—Ä—ã",
        brakesTitle: "–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
        filtersTitle: "–§–∏–ª—å—Ç—Ä—ã",
        themeDark: "–¢—ë–º–Ω–∞—è —Ç–µ–º–∞",
        themeLight: "–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞",
        contactTitle: "–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏",
        phoneLabel: "–¢–µ–ª–µ—Ñ–æ–Ω:",
        workHours:
          "–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:<br>–ü–Ω‚Äì–ü—Ç: 9:00 ‚Äì 18:00<br>–°–±: 10:00 ‚Äì 14:00<br>–í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π",
        brakePad: "–ö–æ–ª–æ–¥–∫–∏ —Ç–æ—Ä–º–æ–∑–Ω—ã–µ –ø–µ—Ä–µ–¥–Ω–∏–µ Bosch",
        brakeDisc: "–î–∏—Å–∫ —Ç–æ—Ä–º–æ–∑–Ω–æ–π –ø–µ—Ä–µ–¥–Ω–∏–π Brembo",
        brakeCaliper: "–°—É–ø–ø–æ—Ä—Ç —Ç–æ—Ä–º–æ–∑–Ω–æ–π TRW",
        brakeHose: "–¢–æ—Ä–º–æ–∑–Ω–æ–π —à–ª–∞–Ω–≥ ATE",
        oilFilter: "–§–∏–ª—å—Ç—Ä –º–∞—Å–ª—è–Ω—ã–π Mann",
        airFilter: "–§–∏–ª—å—Ç—Ä –≤–æ–∑–¥—É—à–Ω—ã–π Filtron",
        cabinFilter: "–§–∏–ª—å—Ç—Ä —Å–∞–ª–æ–Ω–∞ Bosch",
        fuelFilter: "–§–∏–ª—å—Ç—Ä —Ç–æ–ø–ª–∏–≤–Ω—ã–π Knecht",
        available: "–í –Ω–∞–ª–∏—á–∏–∏",
        notAvailable: "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏",
      },
      uk: {
        title: "–ú–∞–≥–∞–∑–∏–Ω –∞–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏–Ω",
        navBrakes: "–ì–∞–ª—å–º—ñ–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞",
        navFilters: "–§—ñ–ª—å—Ç—Ä–∏",
        brakesTitle: "–ì–∞–ª—å–º—ñ–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞",
        filtersTitle: "–§—ñ–ª—å—Ç—Ä–∏",
        themeDark: "–¢–µ–º–Ω–∞ —Ç–µ–º–∞",
        themeLight: "–°–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞",
        contactTitle: "–ó–≤‚Äô—è–∑–∞—Ç–∏—Å—è –∑ –Ω–∞–º–∏",
        phoneLabel: "–¢–µ–ª–µ—Ñ–æ–Ω:",
        workHours:
          "–ì–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏:<br>–ü–Ω‚Äì–ü—Ç: 9:00 ‚Äì 18:00<br>–°–±: 10:00 ‚Äì 14:00<br>–ù–¥: –≤–∏—Ö—ñ–¥–Ω–∏–π",
        brakePad: "–ì–∞–ª—å–º—ñ–≤–Ω—ñ –∫–æ–ª–æ–¥–∫–∏ –ø–µ—Ä–µ–¥–Ω—ñ Bosch",
        brakeDisc: "–ì–∞–ª—å–º—ñ–≤–Ω–∏–π –¥–∏—Å–∫ –ø–µ—Ä–µ–¥–Ω—ñ–π Brembo",
        brakeCaliper: "–ì–∞–ª—å–º—ñ–≤–Ω–∏–π —Å—É–ø–æ—Ä—Ç TRW",
        brakeHose: "–ì–∞–ª—å–º—ñ–≤–Ω–∏–π —à–ª–∞–Ω–≥ ATE",
        oilFilter: "–ú–∞—Å–ª—è–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä Mann",
        airFilter: "–ü–æ–≤—ñ—Ç—Ä—è–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä Filtron",
        cabinFilter: "–§—ñ–ª—å—Ç—Ä —Å–∞–ª–æ–Ω—É Bosch",
        fuelFilter: "–ü–∞–ª–∏–≤–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä Knecht",
        available: "–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ",
        notAvailable: "–ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ",
      },
      en: {
        title: "Auto Parts Store",
        navBrakes: "Brake System",
        navFilters: "Filters",
        brakesTitle: "Brake System",
        filtersTitle: "Filters",
        themeDark: "Dark Theme",
        themeLight: "Light Theme",
        contactTitle: "Contact Us",
        phoneLabel: "Phone:",
        workHours:
          "Working hours:<br>Mon‚ÄìFri: 9:00 ‚Äì 18:00<br>Sat: 10:00 ‚Äì 14:00<br>Sun: closed",
        brakePad: "Front Brake Pads Bosch",
        brakeDisc: "Front Brake Disc Brembo",
        brakeCaliper: "Brake Caliper TRW",
        brakeHose: "Brake Hose ATE",
        oilFilter: "Oil Filter Mann",
        airFilter: "Air Filter Filtron",
        cabinFilter: "Cabin Filter Bosch",
        fuelFilter: "Fuel Filter Knecht",
        available: "Available",
        notAvailable: "Not Available",
      },
    };

    const body = document.body;
    const themeToggle = document.getElementById("themeToggle");
    const langSelect = document.getElementById("langSelect");
    const phonePopup = document.getElementById("phonePopup");
    const phoneButton = document.getElementById("phoneButton");

    let currentLang = localStorage.getItem("lang") || "ru";

    function setTheme(darkMode) {
      if (darkMode) {
        body.classList.add("dark");
        themeToggle.textContent = translations[currentLang].themeLight;
        localStorage.setItem("theme", "dark");
      } else {
        body.classList.remove("dark");
        themeToggle.textContent = translations[currentLang].themeDark;
        localStorage.setItem("theme", "light");
      }
    }

    function setLanguage(lang) {
      currentLang = lang;
      localStorage.setItem("lang", lang);

      document.getElementById("title").textContent = translations[lang].title;
      document.getElementById("navBrakes").textContent =
        translations[lang].navBrakes;
      document.getElementById("navFilters").textContent =
        translations[lang].navFilters;

      document.getElementById("brakes").textContent =
        translations[lang].brakesTitle;
      document.getElementById("filters").textContent =
        translations[lang].filtersTitle;

      document.getElementById("contactTitle").textContent =
        translations[lang].contactTitle;
      document.getElementById("phoneLabel").textContent =
        translations[lang].phoneLabel;
      document.getElementById("workHours").innerHTML =
        translations[lang].workHours;

      document.querySelectorAll(".card-title").forEach((el) => {
        const key = el.getAttribute("data-key");
        if (key && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      document.querySelectorAll(".card-availability").forEach((el) => {
        const key = el.getAttribute("data-key-availability");
        if (key && translations[lang][key]) {
          el.textContent = translations[lang][key];
          if (key === "notAvailable") {
            el.classList.add("not-available");
            el.classList.remove("available");
          } else {
            el.classList.add("available");
            el.classList.remove("not-available");
          }
        }
      });

      if (body.classList.contains("dark")) {
        themeToggle.textContent = translations[lang].themeLight;
      } else {
        themeToggle.textContent = translations[lang].themeDark;
      }
    }

    function togglePopup() {
      const isOpen = phonePopup.style.display === "block";

      if (isOpen) {
        phonePopup.style.display = "none";
        phonePopup.setAttribute("aria-hidden", "true");
        phonePopup.tabIndex = -1;
        phoneButton.setAttribute("aria-expanded", "false");
        phoneButton.focus();
      } else {
        phonePopup.style.display = "block";
        phonePopup.setAttribute("aria-hidden", "false");
        phonePopup.tabIndex = 0;
        phonePopup.focus();
        phoneButton.setAttribute("aria-expanded", "true");
      }
    }

    window.addEventListener("DOMContentLoaded", () => {
      const savedTheme = localStorage.getItem("theme");
      setTheme(savedTheme === "dark");

      langSelect.value = currentLang;
      setLanguage(currentLang);

      // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å –ø–ª–∞–≤–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
      document.querySelectorAll("nav.category-nav a").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const targetId = link.getAttribute("href").substring(1);
          const targetElem = document.getElementById(targetId);
          if (targetElem) {
            targetElem.scrollIntoView({ behavior: "smooth" });
          }
        });
      });

      // –ó–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–ø–∞–ø –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
      document.addEventListener("click", (e) => {
        if (
          phonePopup.style.display === "block" &&
          !phonePopup.contains(e.target) &&
          e.target !== phoneButton
        ) {
          togglePopup();
        }
      });

      // –ó–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ Esc
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && phonePopup.style.display === "block") {
          togglePopup();
        }
      });
    });

    themeToggle.addEventListener("click", () => {
      setTheme(!body.classList.contains("dark"));
    });

    phoneButton.addEventListener("click", togglePopup);

    langSelect.addEventListener("change", (e) => setLanguage(e.target.value));
  </script>
</body>
</html>
